---
title: "Built-in Services"
description: "Data services included with the ink SDK"
---

The ink SDK includes two built-in services for common data needs. Services run independently of the tick cycle, caching data for efficient access.

**Reference:** `src/services/` directory

## Service Interface

All services implement this interface:

| Method | Description |
|--------|-------------|
| `initialize(runtime)` | Setup with agent runtime |
| `start()` | Begin data fetching |
| `stop()` | Cleanup and stop |
| `getData<T>()` | Get cached data |
| `refresh()` | Force immediate refresh |
| `getHealth()` | Get status and stats |

**Reference:** `Service` interface in `src/services/types.ts`

## NewsService

Fetches and caches news from RSS feeds and APIs.

| Config | Default | Description |
|--------|---------|-------------|
| `refreshInterval` | 5 min | Time between fetches |
| `maxCacheAge` | 30 min | Stale cache threshold |
| `options.sources` | BBC, CoinDesk, TechCrunch | News sources |

**Default sources:**
```typescript
const DEFAULT_SOURCES = [
  { name: 'bbc', url: 'https://feeds.bbci.co.uk/news/technology/rss.xml', parser: 'rss' },
  { name: 'coindesk', url: 'https://www.coindesk.com/arc/outboundfeeds/rss/', parser: 'rss' },
  { name: 'techcrunch', url: 'https://techcrunch.com/feed/', parser: 'rss' },
];
```

**Usage:**
```typescript
import { createNewsService } from './src/services';

const news = createNewsService({
  refreshInterval: 5 * 60 * 1000,
  options: { sources: customSources }
});

await news.start();
const items = await news.getData<NewsItem[]>();
```

**Reference:** `src/services/news.ts`

## MarketService

Fetches cryptocurrency price data with sentiment analysis.

| Config | Default | Description |
|--------|---------|-------------|
| `refreshInterval` | 4 min | Time between fetches |
| `maxCacheAge` | 10 min | Stale cache threshold |
| `options.assets` | bitcoin, ethereum, solana | Tracked assets |

**Data returned:**
```typescript
interface MarketData {
  timestamp: number;
  assets: MarketAsset[];      // Price, change, volume per asset
  overall: MarketSentiment;   // bullish, bearish, neutral, volatile
  volatilityIndex?: number;   // 0-1 volatility score
}
```

**Usage:**
```typescript
import { createMarketService } from './src/services';

const market = createMarketService({
  options: { assets: ['bitcoin', 'ethereum'] }
});

await market.start();
const data = await market.getData<MarketData>();
```

**Reference:** `src/services/market.ts`

## Service Types

| Type | Description |
|------|-------------|
| `news` | News feed aggregation |
| `market` | Price and market data |
| `social` | Social media mentions |
| `calendar` | Calendar/scheduling |
| `wallet` | Wallet/blockchain data |
| `storage` | File/data storage |
| `custom` | User-defined services |

**Reference:** `ServiceType` enum in `src/services/types.ts`

## Creating All Built-ins

```typescript
import { createBuiltinServices } from './src/services';

const services = createBuiltinServices();
// Returns [NewsService, MarketService]
```

## Custom Data Fetcher

Services expect a custom fetcher for real data:

```typescript
const news = createNewsService({
  options: {
    fetcher: async (source) => {
      // Implement actual RSS/API fetching
      const response = await fetch(source.url);
      return parseRSS(await response.text());
    }
  }
});
```

Without a fetcher, services return empty data with a console warning.

## Service Health

```typescript
const health = news.getHealth();
// { status, lastRefresh, lastError, refreshCount, errorCount, cacheSize }
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Plugin SDK" href="/api-reference/sdk/plugins">
    Build plugins that use service data.
  </Card>
  <Card title="Custom Plugins" href="/guides/custom-plugins">
    Create your own integrations.
  </Card>
</CardGroup>
